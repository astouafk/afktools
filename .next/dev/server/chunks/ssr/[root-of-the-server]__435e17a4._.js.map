{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///home/astou/Documents/TECH%20LEAD/project-tracking-tool/lib/firebase.ts"],"sourcesContent":["//lib/firebase.ts\nimport { initializeApp, getApps, getApp } from \"firebase/app\"\nimport { getAuth } from \"firebase/auth\"\nimport { getFirestore } from \"firebase/firestore\"\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n}\n\n// Initialize Firebase only if it hasn't been initialized\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApp()\n\n// Initialize Firebase services\nexport const auth = getAuth(app)\nexport const db = getFirestore(app)\n\nexport default app\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;;;AACjB;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,yDAAyD;AACzD,MAAM,MAAM,IAAA,qOAAO,IAAG,MAAM,KAAK,IAAI,IAAA,2OAAa,EAAC,kBAAkB,IAAA,oOAAM;AAGpE,MAAM,OAAO,IAAA,uOAAO,EAAC;AACrB,MAAM,KAAK,IAAA,2OAAY,EAAC;uCAEhB"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///home/astou/Documents/TECH%20LEAD/project-tracking-tool/contexts/auth-context.tsx"],"sourcesContent":["//contexts/auth-context.tsx\n\"use client\"\n\nimport type React from \"react\"\n\nimport { createContext, useContext, useEffect, useState } from \"react\"\nimport {\n  type User,\n  signInWithEmailAndPassword,\n  signOut as firebaseSignOut,\n  onAuthStateChanged,\n  setPersistence,\n  browserLocalPersistence,\n} from \"firebase/auth\"\nimport { auth } from \"@/lib/firebase\"\nimport { useRouter } from \"next/navigation\"\n\ninterface AuthContextType {\n  user: User | null\n  loading: boolean\n  signIn: (email: string, password: string) => Promise<void>\n  signOut: () => Promise<void>\n}\n\nconst AuthContext = createContext<AuthContextType>({\n  user: null,\n  loading: true,\n  signIn: async () => {},\n  signOut: async () => {},\n})\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [loading, setLoading] = useState(true)\n  const router = useRouter()\n\n  useEffect(() => {\n    // Set persistence to local (persists even when browser window is closed)\n    setPersistence(auth, browserLocalPersistence)\n\n    // Listen for auth state changes\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      console.log(\"[v0] Auth state changed:\", user?.email || \"No user\")\n      setUser(user)\n      setLoading(false)\n    })\n\n    return () => unsubscribe()\n  }, [])\n\n  const signIn = async (email: string, password: string) => {\n    try {\n      console.log(\"[v0] Attempting to sign in with:\", email)\n      const userCredential = await signInWithEmailAndPassword(auth, email, password)\n      console.log(\"[v0] Sign in successful:\", userCredential.user.email)\n      // Router navigation will be handled in the login component\n    } catch (error: any) {\n      console.error(\"[v0] Sign in error:\", error.message)\n      throw new Error(error.message || \"Failed to sign in\")\n    }\n  }\n\n  const signOut = async () => {\n    try {\n      console.log(\"[v0] Signing out user\")\n      await firebaseSignOut(auth)\n      console.log(\"[v0] Sign out successful\")\n      router.push(\"/login\")\n    } catch (error: any) {\n      console.error(\"[v0] Sign out error:\", error.message)\n      throw new Error(error.message || \"Failed to sign out\")\n    }\n  }\n\n  return <AuthContext.Provider value={{ user, loading, signIn, signOut }}>{children}</AuthContext.Provider>\n}\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext)\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;;;AAK3B;AACA;AAAA;AAQA;AACA;AAdA;;;;;;AAuBA,MAAM,4BAAc,IAAA,gRAAa,EAAkB;IACjD,MAAM;IACN,SAAS;IACT,QAAQ,WAAa;IACrB,SAAS,WAAa;AACxB;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,2QAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2QAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,yMAAS;IAExB,IAAA,4QAAS,EAAC;QACR,yEAAyE;QACzE,IAAA,8OAAc,EAAC,iLAAI,EAAE,uPAAuB;QAE5C,gCAAgC;QAChC,MAAM,cAAc,IAAA,kPAAkB,EAAC,iLAAI,EAAE,CAAC;YAC5C,QAAQ,GAAG,CAAC,4BAA4B,MAAM,SAAS;YACvD,QAAQ;YACR,WAAW;QACb;QAEA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe;QACnC,IAAI;YACF,QAAQ,GAAG,CAAC,oCAAoC;YAChD,MAAM,iBAAiB,MAAM,IAAA,0PAA0B,EAAC,iLAAI,EAAE,OAAO;YACrE,QAAQ,GAAG,CAAC,4BAA4B,eAAe,IAAI,CAAC,KAAK;QACjE,2DAA2D;QAC7D,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,uBAAuB,MAAM,OAAO;YAClD,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;IACF;IAEA,MAAM,UAAU;QACd,IAAI;YACF,QAAQ,GAAG,CAAC;YACZ,MAAM,IAAA,uOAAe,EAAC,iLAAI;YAC1B,QAAQ,GAAG,CAAC;YACZ,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,wBAAwB,MAAM,OAAO;YACnD,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;IACF;IAEA,qBAAO,wSAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAQ;QAAQ;kBAAI;;;;;;AAC3E;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,6QAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}}]
}