{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/astou/Documents/TECH%20LEAD/project-tracking-tool/lib/firebase.ts"],"sourcesContent":["//lib/firebase.ts\nimport { initializeApp, getApps, getApp } from \"firebase/app\"\nimport { getAuth } from \"firebase/auth\"\nimport { getFirestore } from \"firebase/firestore\"\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n}\n\n// Initialize Firebase only if it hasn't been initialized\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApp()\n\n// Initialize Firebase services\nexport const auth = getAuth(app)\nexport const db = getFirestore(app)\n\nexport default app\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;;;AAMP;AALV;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,yDAAyD;AACzD,MAAM,MAAM,IAAA,wOAAO,IAAG,MAAM,KAAK,IAAI,IAAA,8OAAa,EAAC,kBAAkB,IAAA,uOAAM;AAGpE,MAAM,OAAO,IAAA,kOAAO,EAAC;AACrB,MAAM,KAAK,IAAA,4OAAY,EAAC;uCAEhB"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///home/astou/Documents/TECH%20LEAD/project-tracking-tool/contexts/auth-context.tsx"],"sourcesContent":["//contexts/auth-context.tsx\n\"use client\"\n\nimport type React from \"react\"\n\nimport { createContext, useContext, useEffect, useState } from \"react\"\nimport {\n  type User,\n  signInWithEmailAndPassword,\n  signOut as firebaseSignOut,\n  onAuthStateChanged,\n  setPersistence,\n  browserLocalPersistence,\n} from \"firebase/auth\"\nimport { auth } from \"@/lib/firebase\"\nimport { useRouter } from \"next/navigation\"\n\ninterface AuthContextType {\n  user: User | null\n  loading: boolean\n  signIn: (email: string, password: string) => Promise<void>\n  signOut: () => Promise<void>\n}\n\nconst AuthContext = createContext<AuthContextType>({\n  user: null,\n  loading: true,\n  signIn: async () => {},\n  signOut: async () => {},\n})\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [loading, setLoading] = useState(true)\n  const router = useRouter()\n\n  useEffect(() => {\n    // Set persistence to local (persists even when browser window is closed)\n    setPersistence(auth, browserLocalPersistence)\n\n    // Listen for auth state changes\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      console.log(\"[v0] Auth state changed:\", user?.email || \"No user\")\n      setUser(user)\n      setLoading(false)\n    })\n\n    return () => unsubscribe()\n  }, [])\n\n  const signIn = async (email: string, password: string) => {\n    try {\n      console.log(\"[v0] Attempting to sign in with:\", email)\n      const userCredential = await signInWithEmailAndPassword(auth, email, password)\n      console.log(\"[v0] Sign in successful:\", userCredential.user.email)\n      // Router navigation will be handled in the login component\n    } catch (error: any) {\n      console.error(\"[v0] Sign in error:\", error.message)\n      throw new Error(error.message || \"Failed to sign in\")\n    }\n  }\n\n  const signOut = async () => {\n    try {\n      console.log(\"[v0] Signing out user\")\n      await firebaseSignOut(auth)\n      console.log(\"[v0] Sign out successful\")\n      router.push(\"/login\")\n    } catch (error: any) {\n      console.error(\"[v0] Sign out error:\", error.message)\n      throw new Error(error.message || \"Failed to sign out\")\n    }\n  }\n\n  return <AuthContext.Provider value={{ user, loading, signIn, signOut }}>{children}</AuthContext.Provider>\n}\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext)\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;;;AAK3B;AACA;AAAA;AAQA;AACA;;;AAdA;;;;;AAuBA,MAAM,4BAAc,IAAA,wOAAa,EAAkB;IACjD,MAAM;IACN,SAAS;IACT,QAAQ,WAAa;IACrB,SAAS,WAAa;AACxB;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,mOAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mOAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,4MAAS;IAExB,IAAA,oOAAS;kCAAC;YACR,yEAAyE;YACzE,IAAA,yOAAc,EAAC,oLAAI,EAAE,kPAAuB;YAE5C,gCAAgC;YAChC,MAAM,cAAc,IAAA,6OAAkB,EAAC,oLAAI;sDAAE,CAAC;oBAC5C,QAAQ,GAAG,CAAC,4BAA4B,MAAM,SAAS;oBACvD,QAAQ;oBACR,WAAW;gBACb;;YAEA;0CAAO,IAAM;;QACf;iCAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe;QACnC,IAAI;YACF,QAAQ,GAAG,CAAC,oCAAoC;YAChD,MAAM,iBAAiB,MAAM,IAAA,qPAA0B,EAAC,oLAAI,EAAE,OAAO;YACrE,QAAQ,GAAG,CAAC,4BAA4B,eAAe,IAAI,CAAC,KAAK;QACjE,2DAA2D;QAC7D,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,uBAAuB,MAAM,OAAO;YAClD,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;IACF;IAEA,MAAM,UAAU;QACd,IAAI;YACF,QAAQ,GAAG,CAAC;YACZ,MAAM,IAAA,kOAAe,EAAC,oLAAI;YAC1B,QAAQ,GAAG,CAAC;YACZ,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,wBAAwB,MAAM,OAAO;YACnD,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;IACF;IAEA,qBAAO,uPAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAQ;QAAQ;kBAAI;;;;;;AAC3E;GA5CgB;;QAGC,4MAAS;;;KAHV;AA8CT,MAAM,UAAU;;IACrB,MAAM,UAAU,IAAA,qOAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa"}}]
}